const a=document.getElementById('audio'),l=document.getElementById('list'),p=document.getElementById('play'),n=document.getElementById('next'),pr=document.getElementById('prev'),s=document.getElementById('section');let t=[],i=0;fetch('tracks.json').then(r=>r.json()).then(j=>{t=j;u();});function u(){l.innerHTML='';t.filter(x=>s.value=='All'||x.section==s.value).forEach((x,k)=>{let li=document.createElement('li');li.textContent=x.title;li.onclick=()=>{i=k;g(true)};l.appendChild(li);});}s.onchange=u;function g(auto){a.src=t[i].file;if(auto)a.play();}p.onclick=()=>a.paused?a.play():a.pause();n.onclick=()=>{i=(i+1)%t.length;g(true)};pr.onclick=()=>{i=i>0?i-1:t.length-1;g(true)};